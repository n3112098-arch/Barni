# meta developer: @B_Mods
from .. import loader, utils
import asyncio

@loader.tds
class FakeSnos(loader.Module):
    """–§–µ–π–∫–æ–≤—ã–π —Å–Ω–æ—Å –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º"""
    strings = {"name": "FakeSnos"}

    @loader.command()
    async def snos(self, m):
        """.snos <@user> ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ñ–µ–π–∫–æ–≤—ã–π —Å–Ω–æ—Å –∞–∫–∫–∞—É–Ω—Ç–∞"""
        args = utils.get_args_raw(m)
        if not args:
            return await m.edit("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: `.snos @username`")

        user = args

        text = (
            f"üîê –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —É–¥–∞–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞\n"
            f"üë§ –¶–µ–ª—å: {user}\n"
            f"üì° –ó–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä–∞–º Telegram...\n"
        )
        msg = await m.edit(text)

        # –≠—Ç–∞–ø—ã –¥–æ –ø–æ–ª–æ—Å–∫–∏
        steps = [
            "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏...",
            "üì± –°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ...",
            "üåê –ê–Ω–∞–ª–∏–∑ IP-–∞–¥—Ä–µ—Å–∞ –∏ –≥–µ–æ–ø–æ–∑–∏—Ü–∏–∏...",
            "üõ° –°–Ω—è—Ç–∏–µ –∑–∞—â–∏—Ç—ã –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏...",
            "üìÇ –ó–∞–≥—Ä—É–∑–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏...",
            "üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —É–¥–∞–ª–µ–Ω–∏—é –∞–∫–∫–∞—É–Ω—Ç–∞...",
            "üì© –ó–∞–ø—Ä–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç —Å–µ—Ä–≤–µ—Ä–æ–≤ Telegram...",
            "‚úî –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ. –ù–∞—á–∏–Ω–∞—é —É–¥–∞–ª–µ–Ω–∏–µ..."
        ]

        for s in steps:
            await asyncio.sleep(1.2)
            await msg.edit(
                f"üîê –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —É–¥–∞–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞\n"
                f"üë§ –¶–µ–ª—å: **{user}**\n\n{s}"
            )

        # –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
        progress = [5, 10, 20, 35, 50, 65, 80, 100]

        for p in progress:
            bar = "‚ñà" * (p // 5) + "‚ñë" * ((100 - p) // 5)
            await asyncio.sleep(1.5)
            await msg.edit(
                f"üóë –£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ {user}\n"
                f"`[{bar}] {p}%`"
            )

        # –§–∏–Ω–∞–ª
        await asyncio.sleep(1)
        await msg.edit(
            f"‚úÖ –∞–∫–∫–∞—É–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user} —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª—ë–Ω\n"
            f"üóÑ –î–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã –∏–∑ –≤—Å–µ—Ö –¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä–æ–≤ Telegram."
        )